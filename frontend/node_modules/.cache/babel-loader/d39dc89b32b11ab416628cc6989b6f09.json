{"ast":null,"code":"var _jsxFileName = \"/Users/jiahuahe/Mango-BB/frontend/src/pages/Search.js\";\nimport React from \"react\";\nimport { Input, Button, Table, Icon, Header, Message } from 'semantic-ui-react';\nimport Sidebar from \"./components/Sidebar\";\nimport axios from 'axios';\nexport default class Search extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleInputChange = e => {\n      let query_local = e.target.value;\n      this.setState({\n        query: query_local\n      });\n\n      if (query_local.length != 0) {\n        this.fetchClass(query_local);\n      }\n    };\n\n    this.handleAddCourse = crn => {\n      let body = {\n        crn: crn,\n        netID: 'b2',\n        score: 0,\n        attendanceTotal: 0,\n        attendancePresent: 0\n      };\n      let url = \"http://localhost:4000/api/enrollments\";\n      axios.post(url, body).then(res => {\n        this.fetchClass(this.state.query);\n        this.setState({\n          show_success: true\n        });\n        setTimeout(function () {\n          this.setState({\n            show_success: false\n          });\n        }.bind(this), 3000);\n      });\n    };\n\n    this.state = {\n      query: \"\",\n      classes: [],\n      show_success: false\n    };\n  }\n\n  componentDidMount() {}\n\n  fetchClass(query) {\n    let url = `http://localhost:4000/api/classes/search/${query}/b2`;\n    axios.get(url).then(res => {\n      this.setState({\n        classes: res.data.data\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: 'pageCont',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: 'sidebarCont',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Sidebar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: 'mainCont',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      as: \"h1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }\n    }, \"Search\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: 'container',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      icon: \"search\",\n      placeholder: \"Search by class name...\",\n      value: this.state.query,\n      onChange: this.handleInputChange,\n      style: {\n        marginBottom: !this.state.show_success ? '50px' : ''\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }\n    }), this.state.show_success ? /*#__PURE__*/React.createElement(Message, {\n      success: true,\n      header: \"Course has been added succesfully\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 40\n      }\n    }) : \"\", /*#__PURE__*/React.createElement(\"div\", {\n      className: 'searchCont',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: 'searchhistorysize',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 15\n      }\n    }, this.state.classes.length >= 1 ? /*#__PURE__*/React.createElement(Table, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 51\n      }\n    }, /*#__PURE__*/React.createElement(Table.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 19\n      }\n    }, this.state.classes.map(class_info => /*#__PURE__*/React.createElement(Table.Row, {\n      key: class_info.crn,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(Table.Cell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 27\n      }\n    }, class_info.className), /*#__PURE__*/React.createElement(Table.Cell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 27\n      }\n    }, class_info.teacherID), /*#__PURE__*/React.createElement(Table.Cell, {\n      collapsing: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      primary: true,\n      onClick: () => this.handleAddCourse(class_info.crn),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 50\n      }\n    }, \" \", /*#__PURE__*/React.createElement(Icon, {\n      name: \"book\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 120\n      }\n    }), \" Add Course \")))))) : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: 'classhissize',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 15\n      }\n    }, \"your classes\")))));\n  }\n\n}","map":{"version":3,"sources":["/Users/jiahuahe/Mango-BB/frontend/src/pages/Search.js"],"names":["React","Input","Button","Table","Icon","Header","Message","Sidebar","axios","Search","Component","constructor","props","handleInputChange","e","query_local","target","value","setState","query","length","fetchClass","handleAddCourse","crn","body","netID","score","attendanceTotal","attendancePresent","url","post","then","res","state","show_success","setTimeout","bind","classes","componentDidMount","get","data","render","marginBottom","map","class_info","className","teacherID"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Input, Button, Table, Icon, Header, Message } from 'semantic-ui-react';\nimport Sidebar from \"./components/Sidebar\";\nimport axios from 'axios';\n\nexport default class Search extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      query: \"\",\n      classes: [],\n      show_success: false\n    };\n  }\n\n  componentDidMount() {\n  }\n\n  fetchClass(query) {\n    let url = `http://localhost:4000/api/classes/search/${query}/b2`;\n    axios.get(url).then((res) => {\n      this.setState({ classes: res.data.data });\n    });\n  }\n\n  handleInputChange = e => {\n    let query_local = e.target.value;\n    this.setState({query : query_local});\n    if (query_local.length != 0){\n      this.fetchClass(query_local);\n    }\n  }\n\n  handleAddCourse = (crn) => {\n    let body = {\n      crn: crn,\n      netID: 'b2',\n      score: 0,\n      attendanceTotal: 0,\n      attendancePresent: 0\n    }\n    let url = \"http://localhost:4000/api/enrollments\";\n    axios.post(url, body).then(res => {\n        this.fetchClass(this.state.query);\n        this.setState({show_success: true});\n        setTimeout(\n          function() {\n              this.setState({ show_success: false });\n          }\n          .bind(this),\n          3000\n        );\n    })\n  }\n\n  render() {\n    return (\n      <div className={'pageCont'}>\n        <div className={'sidebarCont'}>\n          <Sidebar></Sidebar>\n        </div>  \n        <div className={'mainCont'}>\n          <Header as='h1'>Search</Header>\n          <div className={'container'}>\n            <Input icon=\"search\" placeholder=\"Search by class name...\" value={this.state.query} onChange={this.handleInputChange} style={{marginBottom: !this.state.show_success ? '50px': ''}}/>\n            {this.state.show_success ? <Message\n              success\n              header='Course has been added succesfully'\n            /> : \"\" }\n            <div className={'searchCont'} >\n              <div className={'searchhistorysize'}>\n\n                {this.state.classes.length >= 1 ? <Table>\n                  <Table.Body>\n                    {this.state.classes.map((class_info) => (\n                      <Table.Row key={class_info.crn}>\n                          <Table.Cell>{class_info.className}</Table.Cell>\n                          <Table.Cell>{class_info.teacherID}</Table.Cell>\n                          <Table.Cell collapsing><Button primary onClick={() => this.handleAddCourse(class_info.crn)}> <Icon name='book' /> Add Course </Button></Table.Cell>\n                     </Table.Row>\n                    ))}\n                  </Table.Body>\n                </Table> : \"\"}\n              </div>\n              \n              <div className={'classhissize'}>your classes</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}