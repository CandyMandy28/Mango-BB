{"ast":null,"code":"var _jsxFileName = \"/Users/jiahuahe/Mango-BB/frontend/src/pages/Home.js\";\nimport React from \"react\";\nimport { Grid, Card, Icon, Divider, Button, Menu, Header } from \"semantic-ui-react\";\nimport Sidebar from \"./components/Sidebar\";\nimport axios from \"axios\";\nexport default class Home extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleCountAttendance = (crn, attendancePresent, attendanceTotal) => {\n      let body = {\n        attendanceTotal: attendanceTotal + 1,\n        attendancePresent: attendancePresent + 1\n      };\n      let url = `http://localhost:4000/api/enrollments/b2/${crn}`;\n      axios.put(url, body).then(res => {\n        this.fetchClasses();\n      });\n    };\n\n    this.handleRemoveCourse = crn => {\n      let url = `http://localhost:4000/api/enrollments/b2/${crn}`;\n      axios.delete(url).then(res => {\n        this.fetchClasses();\n      });\n    };\n\n    this.state = {\n      classes: [\"sdfa\", \"sdfa\"]\n    };\n  }\n\n  componentDidMount() {\n    this.fetchClasses();\n  }\n\n  fetchClasses() {\n    let url = \"http://localhost:4000/api/enrollments/b2\";\n    axios.get(url).then(res => {\n      this.setState({\n        classes: res.data.data\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pageCont\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sidebarCont\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Sidebar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mainCont\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      as: \"h1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }\n    }, \"Course Page\"), /*#__PURE__*/React.createElement(Divider, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"collectionCont\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      columns: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Grid.Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }\n    }, this.state.classes.map(class_info => /*#__PURE__*/React.createElement(Grid.Column, {\n      key: class_info.crn,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      key: class_info.crn,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Card.Content, {\n      header: class_info.className,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 27\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      basic: true,\n      color: \"red\",\n      primary: true,\n      onClick: () => this.handleRemoveCourse(class_info.crn),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      name: \"minus\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 117\n      }\n    })), /*#__PURE__*/React.createElement(Card.Content, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 29\n      }\n    }, \"Rank: \", class_info.score), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 29\n      }\n    }, \"Attendance: \", class_info.attendanceTotal == 0 ? 0 : Math.round(class_info.attendancePresent / class_info.attendanceTotal * 100), \" %\")), /*#__PURE__*/React.createElement(Card.Content, {\n      extra: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cardInfo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      name: \"user\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 31\n      }\n    }), \" \", class_info.teacherID, /*#__PURE__*/React.createElement(\"button\", {\n      class: \"ui primary right floated button\",\n      onClick: () => this.handleCountAttendance(class_info.crn, class_info.attendancePresent, class_info.attendanceTotal),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 31\n      }\n    }, \"Attendance\"))))))))))));\n  }\n\n}","map":{"version":3,"sources":["/Users/jiahuahe/Mango-BB/frontend/src/pages/Home.js"],"names":["React","Grid","Card","Icon","Divider","Button","Menu","Header","Sidebar","axios","Home","Component","constructor","props","handleCountAttendance","crn","attendancePresent","attendanceTotal","body","url","put","then","res","fetchClasses","handleRemoveCourse","delete","state","classes","componentDidMount","get","setState","data","render","map","class_info","className","score","Math","round","teacherID"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Grid, Card, Icon, Divider, Button, Menu, Header } from \"semantic-ui-react\";\nimport Sidebar from \"./components/Sidebar\";\nimport axios from \"axios\";\n\nexport default class Home extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      classes: [\"sdfa\", \"sdfa\"],\n    };\n  }\n\n  componentDidMount() {\n    this.fetchClasses();\n  }\n\n  fetchClasses() {\n    let url = \"http://localhost:4000/api/enrollments/b2\";\n    axios.get(url).then((res) => {\n      this.setState({ classes: res.data.data });\n    });\n  }\n\n  handleCountAttendance = (crn, attendancePresent, attendanceTotal) => {\n    let body = {\n      attendanceTotal: attendanceTotal + 1,\n      attendancePresent: attendancePresent + 1\n    }\n    let url = `http://localhost:4000/api/enrollments/b2/${crn}`;\n    axios.put(url, body).then(res => {\n      this.fetchClasses();\n    });\n  }\n\n  handleRemoveCourse = (crn) => {\n    let url = `http://localhost:4000/api/enrollments/b2/${crn}`;\n    axios.delete(url).then((res) => {\n      this.fetchClasses();\n    });\n  }\n\n  render() {\n    return (\n      <div className={\"pageCont\"}>\n        <div className={\"sidebarCont\"}>\n          <Sidebar></Sidebar>\n        </div>\n\n        <div className={\"mainCont\"}>\n          <Header as=\"h1\">Course Page</Header>\n          <Divider />\n          <br></br>\n          <div className={\"container\"}>\n            <div className={\"collectionCont\"}>\n              <Grid columns={3}>\n                <Grid.Row>\n                  {this.state.classes.map((class_info) => (\n                    <Grid.Column key={class_info.crn}>\n                        <Card key={class_info.crn}>\n                          <Card.Content header={class_info.className} />\n                          <Button basic color='red' primary onClick={() => this.handleRemoveCourse(class_info.crn)}><Icon name='minus' /></Button>\n                          <Card.Content>\n                            <p>Rank: {class_info.score}</p>\n                            <p>Attendance: {(class_info.attendanceTotal == 0) ? 0 : Math.round((class_info.attendancePresent / class_info.attendanceTotal)*100) } %</p>\n                            {/* <button class=\"ui primary right floated button\" onClick={() => class_info.attendancePresent + 1}>Attendance</button> */}\n                          </Card.Content>\n                          <Card.Content extra>\n                            <div className=\"cardInfo\">\n                              <Icon name='user' /> {class_info.teacherID}\n                              <button class=\"ui primary right floated button\" onClick={() => this.handleCountAttendance(class_info.crn, class_info.attendancePresent, class_info.attendanceTotal)}>Attendance</button>\n                            </div>\n                          </Card.Content>\n                        </Card>\n                    </Grid.Column>\n                  ))}\n                </Grid.Row>\n              </Grid>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}